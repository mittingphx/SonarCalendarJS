<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonar Calendar - Fixed Example</title>
    <link rel="stylesheet" href="../dist/full/sonar-calendar.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            margin: 0;
            padding: 2rem;
            line-height: 1.5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        #calendar {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            min-height: 600px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sonar Calendar - Fixed Example</h1>
        <div id="calendar"></div>
        
        <!-- Hidden data source -->
        <div id="sample-events" style="display: none;">
            [
                {
                    "id": 1,
                    "title": "Quarterly Strategy Planning",
                    "start": "2025-05-15T09:00:00",
                    "end": "2025-05-15T12:00:00",
                    "description": "Comprehensive review of Q2 performance metrics and strategic planning for Q3. We'll analyze key performance indicators, discuss market trends, and align departmental goals with the company's long-term vision. The session will include breakout groups to brainstorm innovative approaches to upcoming challenges.",
                    "category": "Strategy",
                    "image": "../dist/images/examples/aiwtf-between-ones-and-god.jpg"
                },
                {
                    "id": 2,
                    "title": "Client Workshop: UX Design",
                    "start": "2025-05-15T13:30:00",
                    "end": "2025-05-15T16:00:00",
                    "description": "Interactive workshop with Acme Corp to review the latest UX prototypes. We'll conduct user testing sessions, gather feedback on the new interface elements, and prioritize feature development based on user experience research findings. Please bring your design assets and user journey maps.",
                    "category": "Client Meeting",
                    "image": "../dist/images/examples/aiwtf-null-and-void.jpg"
                },
                {
                    "id": 3,
                    "title": "Code Review: Authentication Module",
                    "start": "2025-05-16T10:00:00",
                    "end": "2025-05-16T11:30:00",
                    "description": "Thorough code review of the new authentication service implementation. We'll examine the OAuth 2.0 integration, security considerations, and error handling. Please review the pull request #427 in advance and come prepared with feedback on the architecture and implementation details.",
                    "category": "Development",
                    "image": "../dist/images/examples/aiwtf-peed-your-pants.jpg"
                },
                {
                    "id": 4,
                    "title": "Marketing Campaign Brainstorm",
                    "start": "2025-05-16T14:00:00",
                    "end": "2025-05-16T15:30:00",
                    "description": "Creative session to develop concepts for the upcoming product launch campaign. We'll review market research data, discuss target audience personas, and brainstorm messaging strategies. The goal is to develop a comprehensive campaign that highlights our unique value proposition and drives customer engagement.",
                    "category": "Marketing",
                    "image": "../dist/images/examples/hope-is-the-new-dope.jpg"
                },
                {
                    "id": 5,
                    "title": "Team Building: Escape Room Challenge",
                    "start": "2025-05-17T16:00:00",
                    "end": "2025-05-17T18:00:00",
                    "description": "Team building activity at MindTrap Escape Rooms. This event is designed to strengthen collaboration, problem-solving, and communication skills in a fun, engaging environment. We'll be split into teams to solve puzzles and challenges. Dinner will be provided afterward at the nearby bistro. Please RSVP by May 10th.",
                    "category": "Team Event",
                    "image": "../dist/images/examples/quiver.jpg"
                },
                {
                    "id": 6,
                    "title": "Executive Board Meeting",
                    "start": "2025-05-18T13:00:00",
                    "end": "2025-05-18T15:30:00",
                    "description": "Quarterly board meeting to review company performance, discuss strategic initiatives, and approve the annual budget. The agenda includes presentations from department heads, financial performance review, and discussion of potential market expansion opportunities. All board members and department VPs are required to attend.",
                    "category": "Executive",
                    "image": "../dist/images/examples/silence-only-offers-nothing.jpg"
                }
            ]
        </div>
    </div>

    <script>
        // Configuration object that can be used to set options
        window.SONAR_CALENDAR_CONFIG = {
            apiBaseUrl: '/api' // Set your API base URL here if needed
        };
    </script>
    
    <!-- Load the calendar library -->
    <script src="../dist/full/sonar-calendar.js"></script>
    
    <script>
        // Wait for the DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Initialize the calendar with options
                const calendar = SonarCalendar.init({
                    container: document.getElementById('calendar'),
                    theme: 'light',
                    dataSelector: '#sample-events'
                });

                // Expose calendar to the global scope for debugging
                window.calendar = calendar;
                
                console.log('Calendar initialized successfully!');
                console.log('Available methods:', Object.keys(calendar).join(', '));
                
            } catch (error) {
                console.error('Error initializing calendar:', error);
                alert('Error initializing calendar. Check console for details.');
            }
        });
    </script>
</body>
</html>
